"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[772],{45922:function(e,t,r){var n=r(92809),o=r(70917),i=r(91164),c=r(16914),u=r(35944),a=["show","children"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.show,r=e.children,n=(0,i.Z)(e,a);return(0,u.tZ)("div",s(s({css:(0,o.iv)({position:"fixed",bottom:"0",left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:c.t,zIndex:100,boxSizing:"border-box"},"","")},n),{},{children:(0,u.tZ)("div",{css:(0,o.iv)({transform:"translateY(".concat(t?"0":"100%",")"),transition:"transform 0.3s ease-in-out"},"",""),children:r})}))}},17951:function(e,t,r){var n=r(92809),o=r(70917),i=r(91164),c=r(11371),u=r(89353),a=r(35944),l=["children"],s=["children"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.upper,r=e.lower;return(0,a.BX)(u.kC,{direction:"column",children:[(0,a.tZ)(u.Ki,{size:24}),t,null!=t&&null!=r?(0,a.tZ)(u.Ki,{size:8}):null,r,(0,a.tZ)(u.Ki,{size:16})]})};p.Text2=function(e){var t=e.children,r=(0,i.Z)(e,l);return(0,a.tZ)("h2",f(f({css:(0,o.iv)({fontWeight:"bold",fontSize:24,lineHeight:1.3,color:c.O.gray[9],whiteSpace:"pre-line"},"","")},r),{},{children:t}))},p.Text6=function(e){var t=e.children,r=(0,i.Z)(e,s);return(0,a.tZ)("p",f(f({},r),{},{children:t}))},t.Z=p},1772:function(e,t,r){r.r(t),r.d(t,{default:function(){return N}});var n=r(30266),o=r(21582),i=r(809),c=r.n(i),u=r(55641),a=r(45922),l=r(17951),s=r(8031),d=r(10767),f=r(27032),p=(0,f.Eu)({encoderConfig:{sampleRate:48e3,stereo:!0,bitrate:128}}),h=(0,f.eI)({mode:"rtc",codec:"vp8"}),b=r(89353),v=r(67294),y=r(70917),m=r(69445),O=r(11371),g=r(35944),w=function(e){var t=e.defaultValue,r=e.onChange,n=(0,v.useState)(null!==t&&void 0!==t&&t),o=n[0],i=n[1];return(0,v.useEffect)((function(){null===r||void 0===r||r(o)}),[o]),(0,g.tZ)("button",{css:(0,y.iv)({backgroundColor:o?O.O.gray[4]:O.O.gray[2],borderRadius:"50%",border:"none",width:80,height:80,cursor:"pointer",transition:"background-color 0.2s ease-in-out"},"",""),onClick:function(){return i((function(e){return!e}))},children:(0,g.tZ)(m.J,{name:o?"mic-off":"mic",type:"outline",size:40,color:O.O.white})})},k=r(92809),Z=r(91164);var j=["color","size","fontSize","children","audioTrack"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=function(e){var t=e.color,r=e.size,n=(e.fontSize,e.children),o=e.audioTrack,i=(0,Z.Z)(e,j),c=(0,v.useState)(0),u=c[0],a=c[1],l=(u+.5)*r;return(0,v.useEffect)((function(){if(null!=o)return o.setAudioFrameCallback((function(e){var t=e.getChannelData(0);a(function(e){var t=e.reduce((function(e,t){return e+Math.abs(t)}),0);return Math.sqrt(t/e.length)}(t))})),function(){null===o||void 0===o||o.setAudioFrameCallback(null)}}),[o]),(0,g.BX)(b.kC,P(P({justify:"center",align:"center",css:(0,y.iv)({backgroundColor:t,color:O.O.white,width:r,height:r,borderRadius:"50%",opacity:.6,transition:"background-color 0.5s ease-in"},"","")},i),{},{children:[n,(0,g.tZ)("div",{css:(0,y.iv)({width:l,height:l,position:"absolute",zIndex:0,backgroundColor:t,opacity:.3,borderRadius:"50%"},"","")})]}))};var E={name:"1d3w5wq",styles:"width:100%"},S=function(e){var t=e.playing,r=e.me,n=e.myAudioTrack,o=e.remoteUser,i=e.remoteUserAudioTrack,c=null!=o;return(0,g.BX)(b.Kq,{justify:"center",align:"center",gutter:16,css:E,children:[(0,g.tZ)(x,{color:t?O.O.primary:O.O.gray[6],size:150,audioTrack:n,children:(0,g.tZ)(b.xv,{children:r.nickname})}),(0,g.tZ)(x,{color:c?O.O.cyan[5]:O.O.gray[6],size:150,audioTrack:i,children:(0,g.tZ)(b.xv,{children:c?o.nickname:""})})]})};var T={me:{nickname:"\uba74\uc811\uc309\uace0\uc218",email:"bboydart91@gmail.com",user_id:2,roles:["USER","INTERVIEWER"],interviewer:{id:1,company:"\ube44\ubc14\ub9ac\ud37c\ube14\ub9ac\uce74",description:"\ud558\uc774\ud558\uc774",interview_count:10,rate:5}},remote:{nickname:"\uba74\uc811\ud5c8\uc811",email:"bboydart92@gmail.com",user_id:3,roles:["USER"],interviewer:null}},z={name:"a3z6ut",styles:"padding:0 20px"},D={name:"1d3w5wq",styles:"width:100%"},N=function(e){var t,r=e.token,i=e.channelName,f=e.onStart,y=e.onStop,m=e.onReady,O=h(),k=p(),Z=k.ready,j=k.track,C=(0,u.zj)(),P=(0,o.Z)(C,3),x=P[0],E=P[1],N=P[2],R=(0,v.useState)(),A=R[0],B=R[1],K=(0,v.useState)(),V=K[0],X=K[1],_=(0,v.useCallback)((0,n.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.join(d.xD,i,r,null);case 2:E(),null===f||void 0===f||f(),null!=j&&(O.publish(j),j.setVolume(500));case 5:case"end":return e.stop()}}),e)}))),[O,E,j,f]),I=(0,v.useCallback)((function(){X(void 0),B(void 0),O.leave(),null===j||void 0===j||j.setMuted(!1),N(),null===y||void 0===y||y()}),[O,N,y]);return(0,v.useEffect)((function(){if(!1!==Z&&null!=j){var e=function(){var e=(0,n.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("user joined",t),X(T.remote),B(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=(0,n.Z)(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("published",t),null===(n=t.audioTrack)||void 0===n||n.play(),e.next=4,O.subscribe(t,r);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("unpublished or mute",t),null===(r=t.audioTrack)||void 0===r||r.stop(),e.next=4,O.unsubscribe(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(e){console.log("user left",e),I()};return O.on("user-joined",e),O.on("user-published",t),O.on("user-unpublished",r),O.on("user-left",o),function(){"CONNECTED"!==O.connectionState&&"CONNECTING"!==O.connectionState||(O.off("user-joined",e),O.off("user-published",t),O.off("user-unpublished",r),O.off("user-left",o))}}}),[Z,j]),(0,v.useEffect)((function(){!0===Z&&(null===m||void 0===m||m())}),[Z]),(0,g.BX)(b.kC,{direction:"column",css:z,children:[(0,g.tZ)(l.Z,{upper:(0,g.BX)(l.Z.Text2,{children:["\ucc44\ub110\uba85 [",i,"]"]})}),(0,g.tZ)(b.Ki,{size:40}),(0,g.tZ)(S,{playing:x,me:T.me,myAudioTrack:null!==j&&void 0!==j?j:void 0,remoteUser:V,remoteUserAudioTrack:null===A||void 0===A?void 0:A.audioTrack}),x?(0,g.BX)(b.kC,{direction:"column",align:"center",justify:"center",css:D,children:[(0,g.tZ)(b.Ki,{size:50}),(0,g.tZ)(w,{defaultValue:null===j||void 0===j?void 0:j.muted,onChange:function(e){null===j||void 0===j||j.setMuted(e)}}),(0,g.tZ)(b.Ki,{size:12}),(0,g.tZ)("input",{type:"range",min:"0",max:"1000",defaultValue:1e3*(null!==(t=null===j||void 0===j?void 0:j.getVolumeLevel())&&void 0!==t?t:0),onChange:function(e){null===j||void 0===j||j.setVolume(Number(e.target.value))}})]}):null,(0,g.tZ)(a.Z,{show:!0,children:x?(0,g.tZ)(s.Z.BottomCTA,{styleType:"danger",onClick:I,children:"\ub098\uac00\uae30"}):(0,g.tZ)(s.Z.BottomCTA,{styleType:"primary",onClick:_,disabled:!1===Z,children:"\uc785\uc7a5\ud558\uae30"})}),(0,g.tZ)(b.Ki,{size:20})]})}}}]);